$(function(){"use strict";function a(a){for(var b=1e6;b>=10;b/=10)if(a>10*b)return Math.round(a/b)*b;return Math.round(a)}function b(b){var c={M:1e6,K:1e3};for(var d in c)if(b>c[d])return a(b)/c[d]+d;return Math.round(b)}function c(a){var b=document.getElementById("canvas");b.height=$(document).height(),b.width=$(document).width();var c=b.getContext("2d");c.clearRect(0,0,b.width,b.height),c.fillStyle=c.createPattern(a,"repeat"),c.beginPath(),c.rect(0,0,b.width,b.height),c.fill()}var d=$(".cropper").find("img"),e=d.attr("src").split("/").pop(),f="image/"+e.split(".").pop();d.cropper({crop:function(a){$("#sx").val(Math.round(a.x)),$("#sy").val(Math.round(a.y)),$("#sh").val(Math.round(a.height)),$("#sw").val(Math.round(a.width));var b=d.cropper("getCroppedCanvas"),g=b.toDataURL(f);$("#download").on("click",function(){$(this).attr({href:g,download:e})}),c(b)}});var g,h=$("#fileinput"),i=window.URL||window.webkitURL;i?h.on("change",function(){var a,b=this.files;b&&b.length&&(a=b[0],f=a.type,e=a.name,/^image\/\w+$/.test(a.type)?(g=i.createObjectURL(a),d.one("built.cropper",function(){i.revokeObjectURL(g)}).cropper("reset",!0).cropper("replace",g),h.val("")):alert("Please choose an image file."))}):h.parent().remove(),$(".social-likes").socialLikes().on("counter.social-likes",function(a,c,d){d>0&&$(".social-likes__counter_"+c).text(b(d))})});var socialLikesButtons={linkedin:{counterUrl:"http://www.linkedin.com/countserv/count/share?url={url}",counter:function(a,b){"use strict";var c=socialLikesButtons.linkedin;c._||(c._={},window.IN||(window.IN={Tags:{}}),window.IN.Tags.Share={handleCount:function(a){var b=c.counterUrl.replace(/{url}/g,encodeURIComponent(a.url));c._[b].resolve(a.count)}}),c._[a]=b,$.getScript(a).fail(b.reject)},popupUrl:"http://www.linkedin.com/shareArticle?mini=false&url={url}&title={title}",popupWidth:650,popupHeight:500}};